<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Universal File Converter | All Formats</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #3b82f6;
            --primary-dark: #1e3a8a;
            --secondary: #ffffff;
            --accent: #ff4141;
            --light: rgba(255, 255, 255, 0.15);
            --dark: #ffffff;
            --success: #34a853;
            --warning: #ea4335;
            --gray: #e0e0e0;
            --gray-light: #dadce0;
            --white: #ffffff;
            --border-radius: 15px;
            --box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            --transition: all 0.3s ease;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: linear-gradient(135deg, #3b82f6, #1e3a8a);
            background-attachment: fixed;
            color: var(--secondary);
            line-height: 1.6;
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        /* Navigation Styles */
        .navbar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px 0;
            margin-bottom: 10px;
            position: relative;
        }

        /* Rotating Logo Styles */
        .logo-container {
            display: flex;
            align-items: center;
            gap: 10px;
            text-decoration: none;
        }

        .logo-circle {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--accent), #ff6b6b);
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
            animation: rotate 10s linear infinite;
        }

        .logo-circle::before {
            content: '';
            position: absolute;
            width: 42px;
            height: 42px;
            border-radius: 50%;
            background: var(--primary);
            z-index: 1;
        }

        .logo-text {
            position: absolute;
            color: white;
            font-weight: bold;
            font-size: 8px;
            z-index: 2;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
        }

        .logo-name {
            color: var(--white);
            font-size: 1.7rem;
            font-weight: 600;
            margin-left: 5px;
        }

        @keyframes rotate {
            0% {
                transform: rotate(0deg);
            }
            100% {
                transform: rotate(360deg);
            }
        }

        .nav-title {
            color: var(--white);
            font-size: 1.6rem;
            text-align: center;
            font-weight: bold;
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
        }

        .nav-right {
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .nav-links {
            display: flex;
            list-style: none;
            gap: 25px;
        }

        .nav-links a {
            text-decoration: none;
            color: var(--secondary);
            font-weight: 400;
            transition: var(--transition);
            padding: 8px 16px;
            border-radius: var(--border-radius);
        }

        .nav-links a:hover {
            background-color: rgba(255, 255, 255, 0.1);
        }

        .burger {
            display: none;
            flex-direction: column;
            justify-content: center;
            gap: 5px;
            cursor: pointer;
            z-index: 1001;
        }

        .burger div {
            width: 28px;
            height: 3.5px;
            background: var(--white);
            border-radius: 2px;
            transition: var(--transition);
        }

        /* Burger Menu Animation */
        .burger.toggle .line1 {
            transform: rotate(-45deg) translate(-5px, 6px);
        }

        .burger.toggle .line2 {
            opacity: 0;
        }

        .burger.toggle .line3 {
            transform: rotate(45deg) translate(-5px, -6px);
        }

        header {
            text-align: center;
            margin-bottom: 20px;
            padding: 10px 20px;
        }

        header h1 {
            font-size: 2.5rem;
            color: var(--dark);
            font-weight: 400;
            margin-bottom: 15px;
        }

        header p {
            font-size: 0.8rem;
            color: var(--gray);
            max-width: 700px;
            margin: 0 auto;
        }

        /* Converter Selector */
        .converter-selector {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-bottom: 25px;
            flex-wrap: wrap;
        }

        .converter-btn {
            background: var(--light);
            border: 2px solid rgba(255, 255, 255, 0.3);
            color: var(--white);
            padding: 12px 20px;
            border-radius: var(--border-radius);
            cursor: pointer;
            transition: var(--transition);
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .converter-btn:hover {
            background: rgba(255, 255, 255, 0.2);
            border-color: var(--white);
        }

        .converter-btn.active {
            background: var(--accent);
            border-color: var(--accent);
        }

        .card {
            background: var(--light);
            backdrop-filter: blur(12px);
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            padding: 25px;
            margin-bottom: 25px;
            transition: var(--transition);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: var(--white);
        }

        .card:hover {
            box-shadow: 0 8px 15px rgba(0, 0, 0, 0.2);
        }

        .card h2 {
            color: var(--dark);
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
            font-weight: 500;
            font-size: 1.4rem;
        }

        .card h2 i {
            color: var(--accent);
        }

        .upload-area {
            border: 2px dashed var(--white);
            border-radius: var(--border-radius);
            padding: 30px 20px;
            text-align: center;
            cursor: pointer;
            transition: var(--transition);
            margin-bottom: 20px;
            background-color: rgba(255, 255, 255, 0.08);
        }

        .upload-area:hover {
            background-color: rgba(255, 255, 255, 0.15);
        }

        .upload-area i {
            font-size: 3rem;
            color: var(--white);
            margin-bottom: 15px;
        }

        .upload-area h3 {
            font-size: 1.3rem;
            margin-bottom: 10px;
            color: var(--dark);
            font-weight: 500;
        }

        .upload-area p {
            color: var(--gray);
            margin-bottom: 15px;
        }

        .btn {
            display: inline-block;
            background: var(--accent);
            color: var(--white);
            padding: 12px 24px;
            border: none;
            border-radius: 10px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            text-decoration: none;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        }

        .btn:hover {
            background: #e63a3a;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
        }

        .btn i {
            margin-right: 8px;
        }

        .btn-outline {
            background: transparent;
            border: 2px solid var(--white);
            color: var(--white);
        }

        .btn-outline:hover {
            background: rgba(255, 255, 255, 0.1);
        }

        .btn-success {
            background: var(--success);
        }

        .btn-success:hover {
            background: #2e9445;
        }

        .btn-warning {
            background: var(--warning);
        }

        .btn-warning:hover {
            background: #d33426;
        }

        .preview-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .preview-item {
            position: relative;
            border-radius: var(--border-radius);
            overflow: hidden;
            box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .preview-item img {
            width: 100%;
            height: 160px;
            object-fit: cover;
            display: block;
        }

        .preview-item .remove-btn {
            position: absolute;
            top: 8px;
            right: 8px;
            background: rgba(234, 67, 53, 0.9);
            color: white;
            width: 28px;
            height: 28px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: var(--transition);
            font-size: 0.9rem;
        }

        .preview-item .remove-btn:hover {
            background: var(--warning);
        }

        .options-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .option-group {
            margin-bottom: 20px;
        }

        .option-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: var(--dark);
        }

        .option-group select, .option-group input {
            width: 100%;
            padding: 10px 12px;
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: var(--border-radius);
            font-size: 0.95rem;
            transition: var(--transition);
            background-color: rgba(255, 255, 255, 0.1);
            color: var(--white);
        }

        .option-group select:focus, .option-group input:focus {
            border-color: var(--white);
            outline: none;
            box-shadow: 0 0 0 2px rgba(255, 255, 255, 0.2);
        }

        .range-value {
            display: flex;
            justify-content: space-between;
            margin-top: 5px;
            color: var(--gray);
            font-size: 0.85rem;
        }

        .checkbox-group {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 15px;
        }

        .checkbox-group input {
            width: 18px;
            height: 18px;
        }

        .checkbox-group label {
            color: var(--dark);
        }

        .actions {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 30px;
            flex-wrap: wrap;
        }

        .progress-container {
            margin-top: 30px;
            display: none;
        }

        .progress-bar {
            height: 6px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 3px;
            overflow: hidden;
            margin-bottom: 10px;
        }

        .progress {
            height: 100%;
            background: var(--accent);
            width: 0%;
            transition: width 0.4s ease;
        }

        .progress-text {
            text-align: center;
            color: var(--gray);
            font-size: 0.9rem;
        }

        .result-container {
            text-align: center;
            padding: 30px 20px;
            display: none;
        }

        .result-container h3 {
            color: var(--success);
            margin-bottom: 15px;
            font-size: 1.6rem;
            font-weight: 500;
        }

        .result-container p {
            margin-bottom: 25px;
            color: var(--gray);
        }

        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
            gap: 25px;
            margin-top: 40px;
        }

        .feature-card {
            background: var(--light);
            backdrop-filter: blur(12px);
            border-radius: var(--border-radius);
            padding: 25px;
            text-align: center;
            box-shadow: var(--box-shadow);
            transition: var(--transition);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .feature-card:hover {
            box-shadow: 0 8px 15px rgba(0, 0, 0, 0.2);
        }

        .feature-card i {
            font-size: 2.2rem;
            color: var(--accent);
            margin-bottom: 20px;
        }

        .feature-card h3 {
            margin-bottom: 15px;
            color: var(--dark);
            font-weight: 500;
        }

        .feature-card p {
            color: var(--gray);
            font-size: 0.95rem;
        }

        footer {
            text-align: center;
            margin-top: 60px;
            padding: 20px;
            color: var(--gray);
            border-top: 1px solid rgba(255, 255, 255, 0.2);
            font-size: 0.9rem;
        }

        /* Text preview styling */
        .text-preview {
            background: rgba(255, 255, 255, 0.1);
            border-radius: var(--border-radius);
            padding: 15px;
            margin-top: 20px;
            max-height: 200px;
            overflow-y: auto;
            text-align: left;
        }

        .text-preview h4 {
            margin-bottom: 10px;
            color: var(--dark);
        }

        .text-preview p {
            color: var(--gray);
            font-size: 0.9rem;
            line-height: 1.5;
        }

        @media (max-width: 1024px) {
            .nav-title {
                display: none;
            }
            
            .nav-links {
                display: none;
                position: absolute;
                top: 80px;
                right: 20px;
                width: 250px;
                flex-direction: column;
                gap: 0;
                margin-top: 0;
                padding: 0;
                background: var(--light);
                backdrop-filter: blur(12px);
                border-radius: var(--border-radius);
                box-shadow: var(--box-shadow);
                border: 1px solid rgba(255, 255, 255, 0.2);
                z-index: 1000;
            }
            
            .nav-links.active {
                display: flex;
            }
            
            .nav-links li {
                width: 100%;
            }
            
            .nav-links a {
                display: block;
                padding: 12px 20px;
                border-radius: 0;
                border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            }
            
            .nav-links li:last-child a {
                border-bottom: none;
            }
            
            .burger {
                display: flex;
            }
            
            .converter-selector {
                flex-direction: column;
                align-items: center;
            }
            
            .converter-btn {
                width: 100%;
                max-width: 300px;
                justify-content: center;
            }
            
            header h1 {
                font-size: 2rem;
            }
            
            .card {
                padding: 20px;
            }
            
            .actions {
                flex-direction: column;
                align-items: center;
            }
            
            .btn {
                width: 100%;
                max-width: 300px;
                margin-bottom: 10px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Navigation Bar with Rotating Ubaid Logo -->
        <nav class="navbar">
            <a href="#" class="logo-container">
                <div class="logo-circle">
                    <span class="logo-text">ðŸ”µUbaid</span>
              </div>
                <span class="logo-name"> File Converter</span>
            </a>
            
            <h3 class="nav-title"> File Converter</h3>
            
            <div class="nav-right">
                <ul class="nav-links">
                    <li><a href="#" class="converter-link" data-type="jpeg-to-pdf"><i class="fas fa-image"></i> JPEG to PDF</a></li>
                    <li><a href="#" class="converter-link" data-type="png-to-pdf"><i class="fas fa-file-image"></i> PNG to PDF</a></li>
                    <li><a href="#" class="converter-link" data-type="pdf-to-jpeg"><i class="fas fa-file-pdf"></i> PDF to JPEG</a></li>
                    <li><a href="#" class="converter-link" data-type="pdf-to-png"><i class="fas fa-file-image"></i> PDF to PNG</a></li>
                    <li><a href="#" class="converter-link" data-type="txt-to-pdf"><i class="fas fa-file-alt"></i> Text to PDF</a></li>
                    <li><a href="#" class="converter-link" data-type="excel-to-pdf"><i class="fas fa-file-excel"></i> Excel to PDF</a></li>
                    <li><a href="#" class="converter-link" data-type="pdf-to-txt"><i class="fas fa-file-alt"></i> PDF to Text</a></li>
                </ul>
                
                <div class="burger">
                    <div class="line1"></div>
                    <div class="line2"></div>
                    <div class="line3"></div>
                </div>
            </div>
        </nav>

        <header>
            <h3 id="converter-title">JPEG to PDF Converter</h3>
            <p id="converter-description">Convert your JPEG images to PDF documents with advanced customization options. Fast, secure, and completely free!</p>
        </header>

        <!-- Converter Type Selector -->
        <div class="converter-selector">
            <button class="converter-btn active" data-type="jpeg-to-pdf">
                <i class="fas fa-image"></i> JPEG to PDF
            </button>
            <button class="converter-btn" data-type="png-to-pdf">
                <i class="fas fa-file-image"></i> PNG to PDF
            </button>
            <button class="converter-btn" data-type="pdf-to-jpeg">
                <i class="fas fa-file-pdf"></i> PDF to JPEG
            </button>
            <button class="converter-btn" data-type="pdf-to-png">
                <i class="fas fa-file-image"></i> PDF to PNG
            </button>
            <button class="converter-btn" data-type="txt-to-pdf">
                <i class="fas fa-file-alt"></i> Text to PDF
            </button>
            <button class="converter-btn" data-type="excel-to-pdf">
                <i class="fas fa-file-excel"></i> Excel to PDF
            </button>
            <button class="converter-btn" data-type="pdf-to-txt">
                <i class="fas fa-file-alt"></i> PDF to Text
            </button>
        </div>

        <main>
            <div class="card">
                <h2><i class="fas fa-upload"></i> Upload Files</h2>
                <div class="upload-area" id="uploadArea">
                    <i class="fas fa-cloud-upload-alt"></i>
                    <h3>Drag & Drop Your <span id="format-name">JPEG</span> Files</h3>
                    <p>or click to browse files</p>
                    <p class="small" id="format-info">Supports JPG, JPEG formats. Maximum 10 files, 5MB each.</p>
                    <input type="file" id="fileInput" accept=".jpg,.jpeg" multiple style="display: none;">
                </div>
                <div class="preview-container" id="previewContainer"></div>
                <div id="textPreview" class="text-preview" style="display: none;">
                    <h4>Text Preview:</h4>
                    <p id="previewText"></p>
                </div>
            </div>

            <div class="card" id="optionsCard">
                <h2><i class="fas fa-cogs"></i> Conversion Options</h2>
                <div class="options-grid">
                    <div class="option-group">
                        <label for="pageSize">Page Size</label>
                        <select id="pageSize">
                            <option value="a4">A4</option>
                            <option value="letter">Letter</option>
                            <option value="legal">Legal</option>
                            <option value="a3">A3</option>
                        </select>
                    </div>
                    <div class="option-group">
                        <label for="orientation">Orientation</label>
                        <select id="orientation">
                            <option value="portrait">Portrait</option>
                            <option value="landscape">Landscape</option>
                        </select>
                    </div>
                    <div class="option-group">
                        <label for="quality">Image Quality</label>
                        <input type="range" id="quality" min="1" max="10" value="8">
                        <div class="range-value">
                            <span>Low</span>
                            <span>High</span>
                        </div>
                    </div>
                    <div class="option-group">
                        <label for="margin">Page Margin (mm)</label>
                        <input type="range" id="margin" min="0" max="30" value="10">
                        <div class="range-value">
                            <span>0</span>
                            <span>30</span>
                        </div>
                    </div>
                </div>
                
                <div class="checkbox-group">
                    <input type="checkbox" id="compress" checked>
                    <label for="compress">Compress PDF to reduce file size</label>
                </div>
                
                <div class="checkbox-group">
                    <input type="checkbox" id="addWatermark">
                    <label for="addWatermark">Add watermark to PDF</label>
                </div>
                
                <div class="checkbox-group">
                    <input type="checkbox" id="addMetadata" checked>
                    <label for="addMetadata">Add document metadata (title, author)</label>
                </div>
            </div>

            <div class="actions">
                <button class="btn" id="convertBtn"><i class="fas fa-file-pdf"></i> Convert Files</button>
                <button class="btn btn-outline" id="resetBtn"><i class="fas fa-redo"></i> Reset</button>
            </div>

            <div class="progress-container" id="progressContainer">
                <div class="progress-bar">
                    <div class="progress" id="progressBar"></div>
                </div>
                <p class="progress-text" id="progressText">Processing files...</p>
            </div>

            <div class="result-container" id="resultContainer">
                <h3><i class="fas fa-check-circle"></i> Conversion Complete!</h3>
                <p>Your converted file is ready for download. Click the button below to save it to your device.</p>
                <button class="btn btn-success" id="downloadBtn"><i class="fas fa-download"></i> Download File</button>
            </div>
        </main>

        <section class="feature-grid">
            <div class="feature-card">
                <i class="fas fa-bolt"></i>
                <h3>Fast Conversion</h3>
                <p>Convert multiple files in seconds with our optimized processing engine.</p>
            </div>
            <div class="feature-card">
                <i class="fas fa-shield-alt"></i>
                <h3>Secure & Private</h3>
                <p>Your files are processed locally in your browser. No uploads to external servers.</p>
            </div>
            <div class="feature-card">
                <i class="fas fa-exchange-alt"></i>
                <h3>Bidirectional Conversion</h3>
                <p>Convert between multiple formats including images, PDF, text, and Excel files.</p>
            </div>
        </section>
    </div>

    <footer>
        <p>Universal File Converter &copy; 2026 | Created by Ubaid</p>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Converter configuration
            const converters = {
                'jpeg-to-pdf': {
                    title: "JPEG to PDF Converter",
                    description: "Convert your JPEG images to PDF documents with advanced customization options. Fast, secure, and completely free!",
                    formatName: "JPEG",
                    formatInfo: "Supports JPG, JPEG formats. Maximum 10 files, 5MB each.",
                    accept: ".jpg,.jpeg",
                    types: ["image/jpeg"],
                    direction: "to-pdf"
                },
                'png-to-pdf': {
                    title: "PNG to PDF Converter",
                    description: "Convert your PNG images to PDF documents with transparency support. Fast, secure, and completely free!",
                    formatName: "PNG",
                    formatInfo: "Supports PNG format. Maximum 10 files, 5MB each.",
                    accept: ".png",
                    types: ["image/png"],
                    direction: "to-pdf"
                },
                'pdf-to-jpeg': {
                    title: "PDF to JPEG Converter",
                    description: "Convert your PDF documents to JPEG images. Each page will be converted to a separate image. Fast, secure, and completely free!",
                    formatName: "PDF",
                    formatInfo: "Supports PDF format. Maximum 5 files, 10MB each.",
                    accept: ".pdf",
                    types: ["application/pdf"],
                    direction: "from-pdf"
                },
                'pdf-to-png': {
                    title: "PDF to PNG Converter",
                    description: "Convert your PDF documents to PNG images with transparency support. Each page will be converted to a separate image. Fast, secure, and completely free!",
                    formatName: "PDF",
                    formatInfo: "Supports PDF format. Maximum 5 files, 10MB each.",
                    accept: ".pdf",
                    types: ["application/pdf"],
                    direction: "from-pdf"
                },
                'txt-to-pdf': {
                    title: "Text to PDF Converter",
                    description: "Convert your text files to PDF documents with customizable formatting. Fast, secure, and completely free!",
                    formatName: "Text",
                    formatInfo: "Supports TXT format. Maximum 5 files, 2MB each.",
                    accept: ".txt",
                    types: ["text/plain"],
                    direction: "to-pdf"
                },
                'excel-to-pdf': {
                    title: "Excel to PDF Converter",
                    description: "Convert your Excel spreadsheets to PDF documents. Each sheet will be converted to a separate page. Fast, secure, and completely free!",
                    formatName: "Excel",
                    formatInfo: "Supports XLS, XLSX formats. Maximum 5 files, 10MB each.",
                    accept: ".xls,.xlsx",
                    types: ["application/vnd.ms-excel", "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],
                    direction: "to-pdf"
                },
                'pdf-to-txt': {
                    title: "PDF to Text Converter",
                    description: "Extract text from your PDF documents and save as text files. Fast, secure, and completely free!",
                    formatName: "PDF",
                    formatInfo: "Supports PDF format. Maximum 5 files, 10MB each.",
                    accept: ".pdf",
                    types: ["application/pdf"],
                    direction: "from-pdf"
                }
            };

            // Current converter type
            let currentConverter = 'jpeg-to-pdf';

            // Burger menu toggle
            const burger = document.querySelector('.burger');
            const navLinks = document.querySelector('.nav-links');
            
            burger.addEventListener('click', () => {
                navLinks.classList.toggle('active');
                burger.classList.toggle('toggle');
            });
            
            // Close menu when clicking on a link
            document.querySelectorAll('.nav-links a').forEach(link => {
                link.addEventListener('click', () => {
                    navLinks.classList.remove('active');
                    burger.classList.remove('toggle');
                });
            });

            // File handling functionality
            const uploadArea = document.getElementById('uploadArea');
            const fileInput = document.getElementById('fileInput');
            const previewContainer = document.getElementById('previewContainer');
            const textPreview = document.getElementById('textPreview');
            const previewText = document.getElementById('previewText');
            const convertBtn = document.getElementById('convertBtn');
            const resetBtn = document.getElementById('resetBtn');
            const progressContainer = document.getElementById('progressContainer');
            const progressBar = document.getElementById('progressBar');
            const progressText = document.getElementById('progressText');
            const resultContainer = document.getElementById('resultContainer');
            const downloadBtn = document.getElementById('downloadBtn');
            const optionsCard = document.getElementById('optionsCard');
            
            let uploadedFiles = [];
            let convertedBlob = null;

            // Converter selector buttons
            const converterBtns = document.querySelectorAll('.converter-btn');
            const converterLinks = document.querySelectorAll('.converter-link');
            
            // Function to switch converter
            function switchConverter(type) {
                if (!converters[type]) return;
                
                currentConverter = type;
                const converter = converters[type];
                
                // Update UI
                document.getElementById('converter-title').textContent = converter.title;
                document.getElementById('converter-description').textContent = converter.description;
                document.getElementById('format-name').textContent = converter.formatName;
                document.getElementById('format-info').textContent = converter.formatInfo;
                fileInput.setAttribute('accept', converter.accept);
                
                // Show/hide options based on converter type
                if (converter.direction === 'to-pdf') {
                    optionsCard.style.display = 'block';
                    convertBtn.innerHTML = '<i class="fas fa-file-pdf"></i> Convert to PDF';
                } else {
                    optionsCard.style.display = 'none';
                    if (type.includes('pdf-to-jpeg') || type.includes('pdf-to-png')) {
                        convertBtn.innerHTML = '<i class="fas fa-image"></i> Convert to Images';
                    } else if (type.includes('pdf-to-txt')) {
                        convertBtn.innerHTML = '<i class="fas fa-file-alt"></i> Extract Text';
                    }
                }
                
                // Update active button state
                converterBtns.forEach(btn => {
                    if (btn.getAttribute('data-type') === type) {
                        btn.classList.add('active');
                    } else {
                        btn.classList.remove('active');
                    }
                });
                
                // Clear any uploaded files
                uploadedFiles = [];
                updatePreview();
                progressContainer.style.display = 'none';
                resultContainer.style.display = 'none';
                textPreview.style.display = 'none';
            }
            
            // Add event listeners to converter buttons
            converterBtns.forEach(btn => {
                btn.addEventListener('click', () => {
                    const type = btn.getAttribute('data-type');
                    switchConverter(type);
                });
            });
            
            // Add event listeners to converter links in navigation
            converterLinks.forEach(link => {
                link.addEventListener('click', (e) => {
                    e.preventDefault();
                    const type = link.getAttribute('data-type');
                    switchConverter(type);
                });
            });

            // Upload area click event
            uploadArea.addEventListener('click', () => {
                fileInput.click();
            });
            
            // Drag and drop functionality
            uploadArea.addEventListener('dragover', (e) => {
                e.preventDefault();
                uploadArea.style.borderColor = 'var(--accent)';
                uploadArea.style.backgroundColor = 'rgba(255, 255, 255, 0.15)';
            });
            
            uploadArea.addEventListener('dragleave', () => {
                uploadArea.style.borderColor = 'var(--white)';
                uploadArea.style.backgroundColor = 'rgba(255, 255, 255, 0.08)';
            });
            
            uploadArea.addEventListener('drop', (e) => {
                e.preventDefault();
                uploadArea.style.borderColor = 'var(--white)';
                uploadArea.style.backgroundColor = 'rgba(255, 255, 255, 0.08)';
                
                if (e.dataTransfer.files.length > 0) {
                    handleFiles(e.dataTransfer.files);
                }
            });
            
            // File input change event
            fileInput.addEventListener('change', () => {
                if (fileInput.files.length > 0) {
                    handleFiles(fileInput.files);
                }
            });
            
            // Handle uploaded files
            function handleFiles(files) {
                for (let i = 0; i < files.length; i++) {
                    const file = files[i];
                    const converter = converters[currentConverter];
                    
                    // Check if file type is supported
                    let typeMatch = false;
                    for (const type of converter.types) {
                        if (file.type === type || 
                            (type === "image/jpeg" && (file.name.toLowerCase().endsWith('.jpg') || file.name.toLowerCase().endsWith('.jpeg'))) ||
                            (type === "application/vnd.ms-excel" && file.name.toLowerCase().endsWith('.xls')) ||
                            (type === "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet" && file.name.toLowerCase().endsWith('.xlsx'))) {
                            typeMatch = true;
                            break;
                        }
                    }
                    
                    if (!typeMatch) {
                        alert(`Please upload only ${converter.formatName} files.`);
                        continue;
                    }
                    
                    // Check file size
                    let maxSize = 5 * 1024 * 1024; // Default 5MB
                    if (currentConverter.includes('pdf-to-') || currentConverter === 'excel-to-pdf') {
                        maxSize = 10 * 1024 * 1024; // 10MB for PDF and Excel files
                    } else if (currentConverter === 'txt-to-pdf') {
                        maxSize = 2 * 1024 * 1024; // 2MB for text files
                    }
                    
                    if (file.size > maxSize) {
                        alert(`File size exceeds ${maxSize/(1024*1024)}MB limit: ${file.name}`);
                        continue;
                    }
                    
                    // Check if we've reached the maximum number of files
                    let maxFiles = 10;
                    if (currentConverter.includes('pdf-to-') || currentConverter === 'txt-to-pdf' || currentConverter === 'excel-to-pdf') {
                        maxFiles = 5;
                    }
                    
                    if (uploadedFiles.length >= maxFiles) {
                        alert(`Maximum ${maxFiles} files allowed.`);
                        break;
                    }
                    
                    const reader = new FileReader();
                    
                    reader.onload = function(e) {
                        const fileData = {
                            name: file.name,
                            dataUrl: e.target.result,
                            type: file.type
                        };
                        
                        uploadedFiles.push(fileData);
                        updatePreview();
                        
                        // Show text preview for text files
                        if (currentConverter === 'txt-to-pdf' || currentConverter === 'pdf-to-txt') {
                            if (currentConverter === 'txt-to-pdf') {
                                previewText.textContent = e.target.result.substring(0, 500) + (e.target.result.length > 500 ? '...' : '');
                            }
                            textPreview.style.display = 'block';
                        } else {
                            textPreview.style.display = 'none';
                        }
                    };
                    
                    if (currentConverter === 'txt-to-pdf' || currentConverter === 'pdf-to-txt') {
                        reader.readAsText(file);
                    } else {
                        reader.readAsDataURL(file);
                    }
                }
            }
            
            // Update file preview
            function updatePreview() {
                previewContainer.innerHTML = '';
                textPreview.style.display = 'none';
                
                uploadedFiles.forEach((file, index) => {
                    // For image files, show image preview
                    if (file.type.startsWith('image/') || 
                        (currentConverter.includes('pdf-to-') && !currentConverter.includes('pdf-to-txt'))) {
                        const previewItem = document.createElement('div');
                        previewItem.className = 'preview-item';
                        
                        const img = new Image();
                        if (file.type.startsWith('image/')) {
                            img.src = file.dataUrl;
                        } else {
                            // For PDF files, show a PDF icon
                            img.src = 'data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MTIgNTEyIiBmaWxsPSIjZmZmIj48cGF0aCBkPSJNNDE2IDIyNGMtOC44IDAtMTYgNy4yLTE2IDE2djY0YzAgOC44IDcuMiAxNiAxNiAxNnMxNi03LjIgMTYtMTZ2LTY0YzAtOC44LTcuMi0xNi0xNi0xNnptLTk2IDBjLTguOCAwLTE2IDcuMi0xNiAxNnY2NGMwIDguOCA3LjIgMTYgMTYgMTZzMTYtNy4yIDE2LTE2di02NGMwLTguOC03LjItMTYtMTYtMTZ6bTE2MCAxMjhoLTMyMGMtOC44IDAtMTYgNy4yLTE2IDE2djMyYzAgOC44IDcuMiAxNiAxNiAxNmgzMjBjOC44IDAgMTYtNy4yIDE2LTE2di0zMmMwLTguOC03LjItMTYtMTYtMTZ6TTQ4IDQ2NGMwIDguOCA3LjIgMTYgMTYgMTZoMzg0YzguOCAwIDE2LTcuMiAxNi0xNlYxOTJjMC04LjgtNy4yLTE2LTE2LTE2SDI1NnYtODBjMC04LjgtNy4yLTE2LTE2LTE2SDY0Yy04LjggMC0xNiA3LjItMTYgMTZ2MzUyem0zMi0zMzZoMTM2djU2YzAgMTMuMyAxMC43IDI0IDI0IDI0aDU2djIyNEg4MFYxMjh6Ii8+PC9zdmc+';
                            img.style.backgroundColor = '#ff4141';
                            img.style.padding = '20px';
                            img.style.objectFit = 'contain';
                        }
                        img.alt = file.name;
                        
                        const removeBtn = document.createElement('div');
                        removeBtn.className = 'remove-btn';
                        removeBtn.innerHTML = '<i class="fas fa-times"></i>';
                        removeBtn.addEventListener('click', (e) => {
                            e.stopPropagation();
                            uploadedFiles.splice(index, 1);
                            updatePreview();
                        });
                        
                        previewItem.appendChild(img);
                        previewItem.appendChild(removeBtn);
                        previewContainer.appendChild(previewItem);
                    }
                });
                
                // For text and Excel files, show a file list
                if (uploadedFiles.length > 0 && 
                    (currentConverter === 'txt-to-pdf' || 
                     currentConverter === 'excel-to-pdf' || 
                     currentConverter === 'pdf-to-txt')) {
                    previewContainer.innerHTML = '';
                    
                    uploadedFiles.forEach((file, index) => {
                        const fileItem = document.createElement('div');
                        fileItem.className = 'file-item';
                        fileItem.style.background = 'rgba(255, 255, 255, 0.1)';
                        fileItem.style.padding = '15px';
                        fileItem.style.borderRadius = 'var(--border-radius)';
                        fileItem.style.marginBottom = '10px';
                        fileItem.style.display = 'flex';
                        fileItem.style.justifyContent = 'space-between';
                        fileItem.style.alignItems = 'center';
                        
                        const fileName = document.createElement('span');
                        fileName.textContent = file.name;
                        
                        const removeBtn = document.createElement('div');
                        removeBtn.className = 'remove-btn';
                        removeBtn.style.position = 'static';
                        removeBtn.innerHTML = '<i class="fas fa-times"></i>';
                        removeBtn.addEventListener('click', (e) => {
                            e.stopPropagation();
                            uploadedFiles.splice(index, 1);
                            updatePreview();
                        });
                        
                        fileItem.appendChild(fileName);
                        fileItem.appendChild(removeBtn);
                        previewContainer.appendChild(fileItem);
                    });
                }
            }
            
            // Convert files
            convertBtn.addEventListener('click', async () => {
                if (uploadedFiles.length === 0) {
                    alert('Please upload at least one file.');
                    return;
                }
                
                // Show progress container
                progressContainer.style.display = 'block';
                resultContainer.style.display = 'none';
                
                try {
                    // Handle different conversion types
                    if (currentConverter.includes('to-pdf')) {
                        await convertToPDF();
                    } else if (currentConverter.includes('from-pdf')) {
                        await convertFromPDF();
                    }
                } catch (error) {
                    console.error('Conversion error:', error);
                    alert('Error during conversion: ' + error.message);
                    progressContainer.style.display = 'none';
                }
            });
            
            // Convert files to PDF
            async function convertToPDF() {
                // Get conversion options
                const pageSize = document.getElementById('pageSize').value;
                const orientation = document.getElementById('orientation').value;
                const margin = parseInt(document.getElementById('margin').value);
                const addWatermark = document.getElementById('addWatermark').checked;
                const addMetadata = document.getElementById('addMetadata').checked;
                
                // Initialize PDF
                const jsPDF = window.jspdf.jsPDF;
                const doc = new jsPDF({
                    orientation: orientation,
                    unit: 'mm',
                    format: pageSize
                });
                
                // Set metadata if enabled
                if (addMetadata) {
                    doc.setProperties({
                        title: `Converted PDF from ${converters[currentConverter].formatName} Files`,
                        subject: `${converters[currentConverter].formatName} to PDF Conversion`,
                        author: 'Ubaid File Converter',
                        keywords: `${converters[currentConverter].formatName.toLowerCase()}, pdf, conversion`,
                        creator: 'Ubaid File Converter'
                    });
                }
                
                // Process each file based on type
                for (let i = 0; i < uploadedFiles.length; i++) {
                    // Update progress
                    const progress = ((i + 1) / uploadedFiles.length) * 100;
                    progressBar.style.width = `${progress}%`;
                    progressText.textContent = `Processing file ${i + 1} of ${uploadedFiles.length}...`;
                    
                    // Add new page for each file after the first
                    if (i > 0) {
                        doc.addPage();
                    }
                    
                    const file = uploadedFiles[i];
                    
                    if (file.type.startsWith('image/')) {
                        // Handle image files
                        const img = new Image();
                        img.src = file.dataUrl;
                        
                        await new Promise((resolve, reject) => {
                            img.onload = function() {
                                try {
                                    const pageWidth = doc.internal.pageSize.getWidth();
                                    const pageHeight = doc.internal.pageSize.getHeight();
                                    
                                    // Calculate dimensions with margins
                                    const imgWidth = pageWidth - (2 * margin);
                                    const imgHeight = (img.height * imgWidth) / img.width;
                                    
                                    // Center the image on the page
                                    const x = margin;
                                    let y = margin;
                                    
                                    // If image height is less than page height, center vertically
                                    if (imgHeight < (pageHeight - (2 * margin))) {
                                        y = (pageHeight - imgHeight) / 2;
                                    }
                                    
                                    // Add image to PDF
                                    const format = currentConverter === 'png-to-pdf' ? 'PNG' : 'JPEG';
                                    doc.addImage(img, format, x, y, imgWidth, imgHeight);
                                    
                                    resolve();
                                } catch (error) {
                                    reject(error);
                                }
                            };
                            
                            img.onerror = function() {
                                reject(new Error('Failed to load image'));
                            };
                        });
                    } else if (file.type === 'text/plain') {
                        // Handle text files
                        const text = await new Promise((resolve) => {
                            const reader = new FileReader();
                            reader.onload = function(e) {
                                resolve(e.target.result);
                            };
                            // Create a blob from dataURL to read as text
                            const blob = dataURLToBlob(file.dataUrl);
                            reader.readAsText(blob);
                        });
                        
                        // Split text into lines
                        const lines = doc.splitTextToSize(text, doc.internal.pageSize.getWidth() - (2 * margin));
                        
                        // Add text to PDF
                        let y = margin + 10;
                        const lineHeight = 7;
                        
                        for (let line of lines) {
                            // Check if we need a new page
                            if (y > doc.internal.pageSize.getHeight() - margin) {
                                doc.addPage();
                                y = margin + 10;
                            }
                            
                            doc.text(line, margin, y);
                            y += lineHeight;
                        }
                    } else if (file.type.includes('excel') || file.name.toLowerCase().endsWith('.xls') || file.name.toLowerCase().endsWith('.xlsx')) {
                        // Handle Excel files
                        // Note: This is a simplified implementation
                        // In a real application, you would parse the Excel file and format it properly
                        
                        doc.setFontSize(16);
                        doc.text('Excel File Conversion', margin, margin + 10);
                        doc.setFontSize(12);
                        doc.text(`File: ${file.name}`, margin, margin + 20);
                        doc.text('Note: Excel to PDF conversion requires more advanced processing.', margin, margin + 30);
                        doc.text('In a full implementation, this would display the actual spreadsheet data.', margin, margin + 40);
                    }
                    
                    // Add watermark if enabled
                    if (addWatermark) {
                        const pageWidth = doc.internal.pageSize.getWidth();
                        const pageHeight = doc.internal.pageSize.getHeight();
                        
                        doc.setFontSize(40);
                        doc.setTextColor(200, 200, 200, 0.5);
                        doc.text('CONVERTED', pageWidth / 2, pageHeight / 2, {
                            angle: 45,
                            align: 'center',
                            baseline: 'middle'
                        });
                    }
                }
                
                // Finalize progress
                progressBar.style.width = '100%';
                progressText.textContent = 'Finalizing PDF...';
                
                // Generate PDF blob for download
                setTimeout(() => {
                    try {
                        // Generate PDF as blob
                        const pdfOutput = doc.output('blob');
                        convertedBlob = pdfOutput;
                        
                        // Show result container
                        progressContainer.style.display = 'none';
                        resultContainer.style.display = 'block';
                    } catch (error) {
                        console.error('PDF generation error:', error);
                        alert('Error generating PDF. Please try again.');
                        progressContainer.style.display = 'none';
                    }
                }, 500);
            }
            
            // Convert files from PDF
            async function convertFromPDF() {
                // This is a simplified implementation
                // In a real application, you would use a PDF parsing library
                
                // Simulate processing
                for (let i = 0; i < uploadedFiles.length; i++) {
                    const progress = ((i + 1) / uploadedFiles.length) * 100;
                    progressBar.style.width = `${progress}%`;
                    progressText.textContent = `Processing file ${i + 1} of ${uploadedFiles.length}...`;
                    
                    // Simulate processing time
                    await new Promise(resolve => setTimeout(resolve, 500));
                }
                
                // Finalize progress
                progressBar.style.width = '100%';
                progressText.textContent = 'Finalizing conversion...';
                
                // Create a sample output based on conversion type
                setTimeout(() => {
                    try {
                        if (currentConverter === 'pdf-to-txt') {
                            // For PDF to text, create a text file with sample content
                            const textContent = "This is a sample text extraction from PDF.\n\nIn a full implementation, this would contain the actual text extracted from the PDF file.\n\nFor demonstration purposes, this is placeholder text.";
                            convertedBlob = new Blob([textContent], { type: 'text/plain' });
                        } else {
                            // For PDF to image, create a sample image
                            // In a real implementation, you would convert PDF pages to images
                            const canvas = document.createElement('canvas');
                            canvas.width = 800;
                            canvas.height = 600;
                            const ctx = canvas.getContext('2d');
                            
                            // Draw a sample image
                            ctx.fillStyle = '#3b82f6';
                            ctx.fillRect(0, 0, canvas.width, canvas.height);
                            ctx.fillStyle = '#ffffff';
                            ctx.font = '30px Arial';
                            ctx.textAlign = 'center';
                            ctx.fillText('Sample Converted Image', canvas.width/2, canvas.height/2);
                            ctx.font = '20px Arial';
                            ctx.fillText('PDF to Image Conversion', canvas.width/2, canvas.height/2 + 40);
                            
                            // Convert canvas to blob
                            canvas.toBlob(blob => {
                                convertedBlob = blob;
                                showResult();
                            }, currentConverter === 'pdf-to-png' ? 'image/png' : 'image/jpeg');
                            return;
                        }
                        
                        showResult();
                    } catch (error) {
                        console.error('Conversion error:', error);
                        alert('Error during conversion. Please try again.');
                        progressContainer.style.display = 'none';
                    }
                }, 500);
            }
            
            function showResult() {
                // Show result container
                progressContainer.style.display = 'none';
                resultContainer.style.display = 'block';
            }
            
            // Helper function to convert dataURL to Blob
            function dataURLToBlob(dataURL) {
                const parts = dataURL.split(';base64,');
                const contentType = parts[0].split(':')[1];
                const raw = window.atob(parts[1]);
                const uInt8Array = new Uint8Array(raw.length);
                
                for (let i = 0; i < raw.length; ++i) {
                    uInt8Array[i] = raw.charCodeAt(i);
                }
                
                return new Blob([uInt8Array], { type: contentType });
            }
            
            // Download button functionality
            downloadBtn.addEventListener('click', () => {
                if (!convertedBlob) {
                    alert('No file available for download. Please convert files first.');
                    return;
                }
                
                try {
                    // Create download link
                    const url = URL.createObjectURL(convertedBlob);
                    const a = document.createElement('a');
                    a.href = url;
                    
                    // Set appropriate file extension
                    let extension = '.pdf';
                    if (currentConverter.includes('pdf-to-jpeg')) extension = '.jpg';
                    if (currentConverter.includes('pdf-to-png')) extension = '.png';
                    if (currentConverter.includes('pdf-to-txt')) extension = '.txt';
                    
                    a.download = `converted-file${extension}`;
                    document.body.appendChild(a);
                    a.click();
                    
                    // Clean up
                    setTimeout(() => {
                        document.body.removeChild(a);
                        URL.revokeObjectURL(url);
                    }, 100);
                } catch (error) {
                    console.error('Download error:', error);
                    alert('Error downloading file. Please try again.');
                }
            });
            
            // Reset button
            resetBtn.addEventListener('click', () => {
                uploadedFiles = [];
                convertedBlob = null;
                updatePreview();
                progressContainer.style.display = 'none';
                resultContainer.style.display = 'none';
                fileInput.value = '';
                textPreview.style.display = 'none';
            });
        });
    </script>
</body>
</html>
